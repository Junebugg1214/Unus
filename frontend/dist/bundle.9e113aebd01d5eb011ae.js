"use strict";(self.webpackChunkunus_frontend=self.webpackChunkunus_frontend||[]).push([[645],{7645:(e,r,a)=>{a.r(r),a.d(r,{default:()=>f});var t,s=a(6540),l=a(5556),n=a.n(l),d=a(7111),o=a(7515),c=a(693),i=a(1429),m=a(8168);function u(e){let{children:r,htmlFor:a,className:t="",...l}=e;return s.createElement("label",(0,m.A)({htmlFor:a,className:t},l),r)}t=u,u.propTypes={children:n().node.isRequired,htmlFor:n().string,className:n().string},u.defaultProps={htmlFor:"",className:""},$RefreshReg$(t,"Label");var p=$RefreshSig$();const w=e=>{p();let{user:r,onUpdatePassword:a}=e;const[t,l]=(0,s.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[n,m]=(0,s.useState)({text:"",type:""}),[w,f]=(0,s.useState)(!1),g=e=>{const{name:r,value:a}=e.target;l((e=>({...e,[r]:a})))};return s.createElement(c.Zp,{className:"w-full max-w-md mx-auto"},s.createElement(c.aR,null,s.createElement("h2",{className:"text-2xl font-bold"},"Account Settings")),s.createElement(c.Wu,null,s.createElement("div",{className:"space-y-2 mb-4"},s.createElement("div",null,s.createElement(u,null,"Username"),s.createElement("p",{className:"text-sm text-gray-600"},(null==r?void 0:r.username)||"N/A")),s.createElement("div",null,s.createElement(u,null,"Email"),s.createElement("p",{className:"text-sm text-gray-600"},(null==r?void 0:r.email)||"N/A"))),s.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),m({text:"",type:""}),t.newPassword!==t.confirmNewPassword?(m({text:"New passwords don't match",type:"error"}),0):!(t.newPassword.length<8&&(m({text:"New password must be at least 8 characters long",type:"error"}),1))){f(!0);try{await a(t.currentPassword,t.newPassword),m({text:"Password updated successfully",type:"success"}),l({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(e){m({text:e.message||"Failed to update password. Please try again.",type:"error"})}finally{f(!1)}}},className:"space-y-4"},s.createElement("div",{className:"space-y-2"},s.createElement(u,{htmlFor:"currentPassword"},"Current Password"),s.createElement(o.p,{id:"currentPassword",type:"password",name:"currentPassword",value:t.currentPassword,onChange:g,required:!0})),s.createElement("div",{className:"space-y-2"},s.createElement(u,{htmlFor:"newPassword"},"New Password"),s.createElement(o.p,{id:"newPassword",type:"password",name:"newPassword",value:t.newPassword,onChange:g,required:!0})),s.createElement("div",{className:"space-y-2"},s.createElement(u,{htmlFor:"confirmNewPassword"},"Confirm New Password"),s.createElement(o.p,{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",value:t.confirmNewPassword,onChange:g,required:!0})),s.createElement(d.$,{type:"submit",disabled:w,className:"w-full"},w?"Updating...":"Update Password"))),s.createElement(c.wL,{className:"flex flex-col"},n.text&&s.createElement(i.F,{variant:"error"===n.type?"destructive":"default",className:"mb-4 w-full"},s.createElement(i.T,null,n.text))))};p(w,"bpeL7MQ+qtlwyIuCdeukm09MuiM="),g=w,w.propTypes={user:n().shape({username:n().string,email:n().string}),onUpdatePassword:n().func.isRequired};const f=w;var g;$RefreshReg$(g,"AccountSettings")},693:(e,r,a)=>{a.d(r,{BT:()=>u,Wu:()=>p,ZB:()=>m,Zp:()=>c,aR:()=>i,wL:()=>w});var t=a(8168),s=a(6540),l=a(5556),n=a.n(l),d=a(3540);const o=(e,r)=>{const a=s.forwardRef(((e,a)=>{let{className:l,children:n,...o}=e;return s.createElement("div",(0,t.A)({ref:a,className:(0,d.cn)(r,l)},o),n)}));return a.displayName=e,a.propTypes={className:n().string,children:n().node.isRequired},a.defaultProps={className:""},a},c=o("Card","rounded-lg border bg-card text-card-foreground shadow-sm"),i=o("CardHeader","flex flex-col space-y-1.5 p-6"),m=s.forwardRef(f=(e,r)=>{let{className:a,children:l,...n}=e;return s.createElement("h3",(0,t.A)({ref:r,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a)},n),l)});g=m,m.displayName="CardTitle",m.propTypes={className:n().string,children:n().node.isRequired},m.defaultProps={className:""};const u=o("CardDescription","text-sm text-muted-foreground"),p=o("CardContent","p-6 pt-0"),w=o("CardFooter","flex items-center p-6 pt-0");var f,g;$RefreshReg$(f,"CardTitle$React.forwardRef"),$RefreshReg$(g,"CardTitle")},7515:(e,r,a)=>{a.d(r,{p:()=>o});var t=a(8168),s=a(6540),l=a(5556),n=a.n(l),d=a(3540);const o=s.forwardRef(c=(e,r)=>{let{className:a,type:l="text",ariaLabel:n,...o}=e;return s.createElement("input",(0,t.A)({type:l,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,"aria-label":n||o.placeholder||"","aria-labelledby":o["aria-labelledby"]},o))});var c,i;i=o,o.displayName="Input",o.propTypes={className:n().string,type:n().string,ariaLabel:n().string,placeholder:n().string,"aria-labelledby":n().string},o.defaultProps={className:"",type:"text"},$RefreshReg$(c,"Input$React.forwardRef"),$RefreshReg$(i,"Input")}}]);