{"ast":null,"code":"import React from'react';import{Button}from'./ui/button';class ErrorBoundary extends React.Component{constructor(props){super(props);this.handleRetry=()=>{// Reset the error boundary state to re-attempt rendering the children components\nthis.setState({hasError:false});};this.state={hasError:false};}static getDerivedStateFromError(_error){// Update state so the next render shows the fallback UI.\nreturn{hasError:true};}componentDidCatch(error,errorInfo){// Log the error to an error reporting service\nconsole.error('Uncaught error:',error,errorInfo);if(process.env['REACT_APP_ENV']==='production'&&typeof this.props.logError==='function'){this.props.logError(error,errorInfo);}}render(){if(this.state.hasError){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen text-center bg-gray-100\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-2xl font-bold mb-4 text-red-600\"},\"Oops! Something went wrong.\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Please try refreshing the page, or contact support if the problem persists.\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleRetry,variant:\"outline\"},\"Retry\"));}return this.props.children;}}export default ErrorBoundary;","map":{"version":3,"names":["React","Button","ErrorBoundary","Component","constructor","props","handleRetry","setState","hasError","state","getDerivedStateFromError","_error","componentDidCatch","error","errorInfo","console","process","env","logError","render","createElement","className","onClick","variant","children"],"sources":["C:/Users/marcs/unus/frontend/src/components/ErrorBoundary.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\r\nimport { Button } from './ui/button';\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: ReactNode;\r\n  logError?: (error: Error, errorInfo: React.ErrorInfo) => void;\r\n}\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(_error: Error): ErrorBoundaryState {\r\n    // Update state so the next render shows the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    // Log the error to an error reporting service\r\n    console.error('Uncaught error:', error, errorInfo);\r\n    if (process.env['REACT_APP_ENV'] === 'production' && typeof this.props.logError === 'function') {\r\n      this.props.logError(error, errorInfo);\r\n    }\r\n  }\r\n\r\n  handleRetry = () => {\r\n    // Reset the error boundary state to re-attempt rendering the children components\r\n    this.setState({ hasError: false });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen text-center bg-gray-100\">\r\n          <h1 className=\"text-2xl font-bold mb-4 text-red-600\">Oops! Something went wrong.</h1>\r\n          <p className=\"mb-4\">Please try refreshing the page, or contact support if the problem persists.</p>\r\n          <Button onClick={this.handleRetry} variant=\"outline\">\r\n            Retry\r\n          </Button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAqB,OAAO,CACxC,OAASC,MAAM,KAAQ,aAAa,CAWpC,KAAM,CAAAC,aAAa,QAAS,CAAAF,KAAK,CAACG,SAAkD,CAClFC,WAAWA,CAACC,KAAyB,CAAE,CACrC,KAAK,CAACA,KAAK,CAAC,CAAC,KAiBfC,WAAW,CAAG,IAAM,CAClB;AACA,IAAI,CAACC,QAAQ,CAAC,CAAEC,QAAQ,CAAE,KAAM,CAAC,CAAC,CACpC,CAAC,CAnBC,IAAI,CAACC,KAAK,CAAG,CAAED,QAAQ,CAAE,KAAM,CAAC,CAClC,CAEA,MAAO,CAAAE,wBAAwBA,CAACC,MAAa,CAAsB,CACjE;AACA,MAAO,CAAEH,QAAQ,CAAE,IAAK,CAAC,CAC3B,CAEAI,iBAAiBA,CAACC,KAAY,CAAEC,SAA0B,CAAE,CAC1D;AACAC,OAAO,CAACF,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAEC,SAAS,CAAC,CAClD,GAAIE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,GAAK,YAAY,EAAI,MAAO,KAAI,CAACZ,KAAK,CAACa,QAAQ,GAAK,UAAU,CAAE,CAC9F,IAAI,CAACb,KAAK,CAACa,QAAQ,CAACL,KAAK,CAAEC,SAAS,CAAC,CACvC,CACF,CAOAK,MAAMA,CAAA,CAAG,CACP,GAAI,IAAI,CAACV,KAAK,CAACD,QAAQ,CAAE,CACvB,mBACER,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,gFAAgF,eAC7FrB,KAAA,CAAAoB,aAAA,OAAIC,SAAS,CAAC,sCAAsC,EAAC,6BAA+B,CAAC,cACrFrB,KAAA,CAAAoB,aAAA,MAAGC,SAAS,CAAC,MAAM,EAAC,6EAA8E,CAAC,cACnGrB,KAAA,CAAAoB,aAAA,CAACnB,MAAM,EAACqB,OAAO,CAAE,IAAI,CAAChB,WAAY,CAACiB,OAAO,CAAC,SAAS,EAAC,OAE7C,CACL,CAAC,CAEV,CAEA,MAAO,KAAI,CAAClB,KAAK,CAACmB,QAAQ,CAC5B,CACF,CAEA,cAAe,CAAAtB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}