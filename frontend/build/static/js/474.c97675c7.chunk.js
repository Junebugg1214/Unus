(self.webpackChunkunus_frontend=self.webpackChunkunus_frontend||[]).push([[474],{474:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(43),a=s(90),n=s(264),l=s(140),o=s(900),d=s(579);function c(e){let{children:r,...s}=e;return(0,d.jsx)("label",{...s,children:r})}const i=e=>{let{user:r,onUpdatePassword:s}=e;const[i,p]=(0,t.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[u,m]=(0,t.useState)({text:"",type:""}),[w,x]=(0,t.useState)(!1),f=e=>{const{name:r,value:s}=e.target;p((e=>({...e,[r]:s})))};return(0,d.jsxs)(l.Zp,{className:"w-full max-w-md mx-auto",children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Account Settings"})}),(0,d.jsxs)(l.Wu,{children:[(0,d.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(c,{children:"Username"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:(null===r||void 0===r?void 0:r.username)||"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(c,{children:"Email"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:(null===r||void 0===r?void 0:r.email)||"N/A"})]})]}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m({text:"",type:""}),i.newPassword!==i.confirmNewPassword?(m({text:"New passwords don't match",type:"error"}),0):!(i.newPassword.length<8)||(m({text:"New password must be at least 8 characters long",type:"error"}),0)){x(!0);try{await s(i.currentPassword,i.newPassword),m({text:"Password updated successfully",type:"success"}),p({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(r){m({text:r.message||"Failed to update password",type:"error"})}finally{x(!1)}}},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(c,{htmlFor:"currentPassword",children:"Current Password"}),(0,d.jsx)(n.p,{id:"currentPassword",type:"password",name:"currentPassword",value:i.currentPassword,onChange:f,required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(c,{htmlFor:"newPassword",children:"New Password"}),(0,d.jsx)(n.p,{id:"newPassword",type:"password",name:"newPassword",value:i.newPassword,onChange:f,required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(c,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),(0,d.jsx)(n.p,{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",value:i.confirmNewPassword,onChange:f,required:!0})]})]})]}),(0,d.jsxs)(l.wL,{className:"flex flex-col",children:[u.text&&(0,d.jsx)(o.F,{variant:"error"===u.type?"destructive":"default",className:"mb-4 w-full",children:(0,d.jsx)(o.T,{children:u.text})}),(0,d.jsx)(a.$,{type:"submit",disabled:w,className:"w-full",children:w?"Updating...":"Update Password"})]})]})}},900:(e,r,s)=>{"use strict";s.d(r,{F:()=>p,T:()=>u});var t=s(43),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n=(e,r)=>{const s=(0,t.forwardRef)(((s,n)=>{let{color:l="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,children:i,...p}=s;return(0,t.createElement)("svg",{ref:n,...a,width:o,height:o,stroke:l,strokeWidth:c?24*Number(d)/Number(o):d,className:`lucide lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...p},[...r.map((e=>{let[r,s]=e;return(0,t.createElement)(r,s)})),...(Array.isArray(i)?i:[i])||[]]);var u}));return s.displayName=`${e}`,s},l=n("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),o=n("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=n("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),c=n("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=s(579);const p=e=>{let{children:r,variant:s="default"}=e;const t={default:(0,i.jsx)(l,{className:"w-5 h-5 mr-2 text-blue-500"}),destructive:(0,i.jsx)(o,{className:"w-5 h-5 mr-2 text-red-500"}),success:(0,i.jsx)(d,{className:"w-5 h-5 mr-2 text-green-500"}),warning:(0,i.jsx)(c,{className:"w-5 h-5 mr-2 text-yellow-500"})};return(0,i.jsxs)("div",{className:`flex items-center border-l-4 p-4 ${{default:"bg-blue-100 border-blue-500 text-blue-700",destructive:"bg-red-100 border-red-500 text-red-700",success:"bg-green-100 border-green-500 text-green-700",warning:"bg-yellow-100 border-yellow-500 text-yellow-700"}[s]} rounded-md shadow-sm`,role:"alert","aria-live":"assertive",children:[t[s],r]})},u=e=>{let{children:r}=e;return(0,i.jsx)("p",{className:"text-sm",children:r})}},140:(e,r,s)=>{"use strict";s.d(r,{BT:()=>p,Wu:()=>u,ZB:()=>i,Zp:()=>d,aR:()=>c,wL:()=>m});var t=s(43),a=s(173),n=s.n(a),l=s(89),o=s(579);const d=t.forwardRef(((e,r)=>{let{className:s,...t}=e;return(0,o.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})}));d.displayName="Card";const c=t.forwardRef(((e,r)=>{let{className:s,...t}=e;return(0,o.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})}));c.displayName="CardHeader";const i=t.forwardRef(((e,r)=>{let{className:s,children:t,...a}=e;return(0,o.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a,children:t})}));i.displayName="CardTitle";const p=t.forwardRef(((e,r)=>{let{className:s,...t}=e;return(0,o.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})}));p.displayName="CardDescription";const u=t.forwardRef(((e,r)=>{let{className:s,...t}=e;return(0,o.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...t})}));u.displayName="CardContent";const m=t.forwardRef(((e,r)=>{let{className:s,...t}=e;return(0,o.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})}));m.displayName="CardFooter";const w={className:n().string,children:n().node};d.propTypes=w,c.propTypes=w,i.propTypes=w,p.propTypes=w,u.propTypes=w,m.propTypes=w},264:(e,r,s)=>{"use strict";s.d(r,{p:()=>l});var t=s(43),a=s(89),n=s(579);const l=t.forwardRef(((e,r)=>{let{className:s,type:t,...l}=e;return(0,n.jsx)("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,"aria-label":l["aria-label"]||l.placeholder||"",...l})}));l.displayName="Input"},497:(e,r,s)=>{"use strict";var t=s(218);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,r,s,a,n,l){if(l!==t){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:a};return s.PropTypes=s,s}},173:(e,r,s)=>{e.exports=s(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=474.c97675c7.chunk.js.map