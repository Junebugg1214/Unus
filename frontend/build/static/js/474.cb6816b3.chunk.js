(self.webpackChunkunus_frontend=self.webpackChunkunus_frontend||[]).push([[474],{474:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var a=r(43),t=r(90),n=r(264),o=r(140),d=r(900),l=r(579);function c(e){let{children:s,...r}=e;return(0,l.jsx)("label",{...r,children:s})}const i=e=>{let{user:s,onUpdatePassword:r}=e;const[i,p]=(0,a.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[u,m]=(0,a.useState)({text:"",type:""}),[f,w]=(0,a.useState)(!1),x=e=>{const{name:s,value:r}=e.target;p((e=>({...e,[s]:r})))};return(0,l.jsxs)(o.Zp,{className:"w-full max-w-md mx-auto",children:[(0,l.jsx)(o.aR,{children:(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Account Settings"})}),(0,l.jsxs)(o.Wu,{children:[(0,l.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{children:"Username"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:(null===s||void 0===s?void 0:s.username)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{children:"Email"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:(null===s||void 0===s?void 0:s.email)||"N/A"})]})]}),(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m({text:"",type:""}),i.newPassword!==i.confirmNewPassword?(m({text:"New passwords don't match",type:"error"}),0):!(i.newPassword.length<8)||(m({text:"New password must be at least 8 characters long",type:"error"}),0)){w(!0);try{await r(i.currentPassword,i.newPassword),m({text:"Password updated successfully",type:"success"}),p({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(s){m({text:s.message||"Failed to update password",type:"error"})}finally{w(!1)}}},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(c,{htmlFor:"currentPassword",children:"Current Password"}),(0,l.jsx)(n.p,{id:"currentPassword",type:"password",name:"currentPassword",value:i.currentPassword,onChange:x,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(c,{htmlFor:"newPassword",children:"New Password"}),(0,l.jsx)(n.p,{id:"newPassword",type:"password",name:"newPassword",value:i.newPassword,onChange:x,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(c,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),(0,l.jsx)(n.p,{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",value:i.confirmNewPassword,onChange:x,required:!0})]})]})]}),(0,l.jsxs)(o.wL,{className:"flex flex-col",children:[u.text&&(0,l.jsx)(d.F,{variant:"error"===u.type?"destructive":"default",className:"mb-4 w-full",children:(0,l.jsx)(d.T,{children:u.text})}),(0,l.jsx)(t.$,{type:"submit",disabled:f,className:"w-full",children:f?"Updating...":"Update Password"})]})]})}},140:(e,s,r)=>{"use strict";r.d(s,{BT:()=>p,Wu:()=>u,ZB:()=>i,Zp:()=>l,aR:()=>c,wL:()=>m});var a=r(43),t=r(173),n=r.n(t),o=r(89),d=r(579);const l=a.forwardRef(((e,s)=>{let{className:r,...a}=e;return(0,d.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})}));l.displayName="Card";const c=a.forwardRef(((e,s)=>{let{className:r,...a}=e;return(0,d.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...a})}));c.displayName="CardHeader";const i=a.forwardRef(((e,s)=>{let{className:r,children:a,...t}=e;return(0,d.jsx)("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t,children:a})}));i.displayName="CardTitle";const p=a.forwardRef(((e,s)=>{let{className:r,...a}=e;return(0,d.jsx)("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})}));p.displayName="CardDescription";const u=a.forwardRef(((e,s)=>{let{className:r,...a}=e;return(0,d.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",r),...a})}));u.displayName="CardContent";const m=a.forwardRef(((e,s)=>{let{className:r,...a}=e;return(0,d.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",r),...a})}));m.displayName="CardFooter";const f={className:n().string,children:n().node};l.propTypes=f,c.propTypes=f,i.propTypes=f,p.propTypes=f,u.propTypes=f,m.propTypes=f},264:(e,s,r)=>{"use strict";r.d(s,{p:()=>o});var a=r(43),t=r(89),n=r(579);const o=a.forwardRef(((e,s)=>{let{className:r,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,"aria-label":o["aria-label"]||o.placeholder||"",...o})}));o.displayName="Input"},497:(e,s,r)=>{"use strict";var a=r(218);function t(){}function n(){}n.resetWarningCache=t,e.exports=function(){function e(e,s,r,t,n,o){if(o!==a){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function s(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r}},173:(e,s,r)=>{e.exports=r(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=474.cb6816b3.chunk.js.map